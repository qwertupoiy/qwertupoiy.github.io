<section class="proj-wrapper proj-honestpick">

    <!-- Hero -->
    <section class="card proj-hero">
        <div>
            <h1>HonestPick</h1>
            <p class="proj-sub">예약·방문 이력 기반으로 리뷰 권한을 통제한 음식점 리뷰·예약 웹서비스</p>
            <p class="proj-meta">2025.05 ~ 2025.06 · Java / JSP / Servlet / Oracle · 백엔드 2인 팀 프로젝트</p>
        </div>

        <div class="proj-hero-actions">
            <a class="btn-secondary" href="index.html" data-page="index.html">← 메인으로</a>
            <a class="btn-primary" href="https://github.com/qwertupoiy/HonestPick" target="_blank">GitHub</a>
            <a class="btn-demo" href="https://drive.google.com/file/d/1bDkzHl1yo9qC2cL4pnf8bBQMRf2Ma54k/view?usp=sharing" target="_blank">시연 영상</a>
            <a class="btn-ppt" href="././assets/docs/HonestPick_PDF.pdf" download>발표자료</a>
        </div>
    </section>

    <!-- 한눈에 보기 (항상 열림) -->
    <section class="card proj-section proj-summary">
        <h2>한눈에 보기</h2>

        <div class="summary-grid">
            <div class="summary-item">
                <h3>문제</h3>
                <p>광고성·허위 리뷰로 인해 <b>리뷰 신뢰도</b>가 저하되는 문제를 정의했습니다.</p>
            </div>

            <div class="summary-item">
                <h3>해결</h3>
                <p><b>예약·방문 완료 이력</b>을 검증하여 리뷰 작성 권한을 부여하도록 설계했습니다.</p>
            </div>

            <div class="summary-item">
                <h3>담당</h3>
                <ul class="mini-list">
                    <li>예약/리뷰/결제/관리자 핵심 백엔드 구현</li>
                    <li>리뷰 작성 권한 검증 로직 구현</li>
                    <li>Toss 결제 · Kakao 지도 API 연동</li>
                </ul>
            </div>

            <div class="summary-item">
                <h3>핵심 결과</h3>
                <ul class="mini-list">
                    <li>허위 리뷰 유입 경로를 구조적으로 차단했습니다.</li>
                    <li>신고·제재 등 운영 흐름을 데이터로 추적 가능하게 구성했습니다.</li>
                    <li>멤버십 결제와 노출 정책을 서비스 구조에 반영했습니다.</li>
                </ul>
            </div>
        </div>

        <p class="summary-hint">세부 설계 및 구현 근거는 아래 섹션에 정리했습니다.</p>
    </section>

    <!-- 프로젝트 개요 (항상 열림) -->
    <section class="card proj-section">
        <h2>프로젝트 개요</h2>
        <p class="lead">
            HonestPick은 <b>예약·방문 완료 데이터를 근거로 리뷰 작성 권한을 부여</b>하여,
            리뷰 신뢰도를 확보한 음식점 리뷰·예약 웹서비스입니다.
        </p>

        <div class="two-col">
            <div class="col">
                <h3 class="subhead">서비스 흐름</h3>
                <ul class="bullet">
                    <li>매장 선택 → 예약 → 방문 완료 → 리뷰 작성</li>
                    <li>신고·숨김 처리 등 운영 기능 제공</li>
                </ul>
            </div>

            <div class="col">
                <h3 class="subhead">비즈니스 구조</h3>
                <ul class="bullet">
                    <li>점주 멤버십 결제 시 매장 상단 노출 정책 적용</li>
                    <li>사용자(신뢰)·점주(노출)·관리자(운영) 관점 요구사항 반영</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- 주요 기능 (항상 열림) -->
    <section class="card proj-section">
        <h2>주요 기능</h2>
        <div class="arch-grid">
            <div class="arch-card">
                <h3>예약 기반 리뷰</h3>
                <p>예약·방문 이력이 있는 사용자만 리뷰 작성 가능</p>
            </div>
            <div class="arch-card">
                <h3>예약 · 방문 처리</h3>
                <p>예약 생성부터 방문 완료까지 상태 기반 흐름 구현</p>
            </div>
            <div class="arch-card">
                <h3>점주 멤버십 결제</h3>
                <p>Toss 결제 연동 및 멤버십 매장 상단 노출 정책 반영</p>
            </div>
            <div class="arch-card">
                <h3>관리자 기능</h3>
                <p>회원/매장/리뷰 관리 및 신고 리뷰 제재(숨김) 처리</p>
            </div>
        </div>
    </section>

    <!-- 담당 역할 & 기여 (항상 열림) -->
    <section class="card proj-section">
        <h2>담당 역할 &amp; 기여</h2>
        <p class="lead">
            기능 구현과 함께 “예약 기반 리뷰” 규칙이 운영에서 일관되게 적용되도록
            데이터 흐름과 검증 로직을 설계·구현했습니다.
        </p>

        <ul class="bullet">
            <li>음식점/메뉴/리뷰/예약 도메인 CRUD 및 비즈니스 로직 구현</li>
            <li><b>예약·방문 상태 기반 리뷰 작성 권한 검증</b> 로직 구현</li>
            <li>Toss 결제 API 연동 및 점주 멤버십 결제/갱신 이력 관리</li>
            <li>멤버십 매장 상단 노출 정책(알고리즘) 설계</li>
            <li>Kakao 지도 API 연동(위치 기반 매장 조회/상세)</li>
            <li>세션/쿠키 기반 로그인 유지 및 자동 로그인 구현</li>
            <li>관리자 페이지(회원/매장/리뷰 관리 및 제재 기능) 구현</li>
        </ul>
    </section>

    <!-- 가장 고민했던 문제 (기술) : 기본 접힘 -->
    <section class="card proj-section">
        <details class="accordion open-default">
            <summary>
                <span class="acc-title">가장 고민했던 문제</span>
                <span class="acc-desc">예약 기반 리뷰를 확실하게 보장하는 방법</span>
            </summary>

            <div class="acc-body">
                <p class="lead">
                    <b>예약·방문 완료 사용자만 리뷰를 작성</b>하도록 보장하는 것이 목표입니다.
                    다만 “예약”만으로는 방문 여부를 증명하기 어렵기 때문에 추가 검증이 필요했습니다.
                </p>

                <div class="callout">
                    <p class="callout-title">문제 정의</p>
                    <ul class="bullet">
                        <li>예약만 생성하고 미방문 상태로 남는 케이스가 발생합니다.</li>
                        <li>검증을 코드에만 의존할 경우 운영·추적이 어려워집니다.</li>
                    </ul>
                </div>

                <div class="callout">
                    <p class="callout-title">해결 방식</p>
                    <ul class="bullet">
                        <li>예약 테이블과 리뷰 테이블을 연결해 “근거 데이터”를 남기도록 설계했습니다.</li>
                        <li>예약 상태(예약/방문완료/취소)를 분리해 관리했습니다.</li>
                        <li>리뷰 작성 시, 해당 예약이 “방문완료”인지 확인하도록 검증 로직을 구현했습니다.</li>
                    </ul>
                </div>

                <div class="callout">
                    <p class="callout-title">결과</p>
                    <ul class="bullet">
                        <li>허위 리뷰가 생길 수 있는 경로를 구조적으로 줄였습니다.</li>
                        <li>관리자 기능(신고/제재)에서도 근거 데이터가 남아 운영이 쉬워졌습니다.</li>
                    </ul>
                </div>

                <p class="mini-note">
                    동일한 데이터 흐름을 기반으로 결제·노출 정책과 관리자 운영 기능을 일관되게 연결했습니다.
                </p>
            </div>
        </details>
    </section>

    <!-- 주요 화면 (항상 열림) -->
    <section class="card proj-section">
        <h2>주요 화면</h2>
        <div class="screen-grid">
            <figure class="screen-box is-image">
                <img
                        src="../../assets/img/HonestPick_home.png"
                        alt="HonestPick 메인 화면"
                        class="preview-img"
                        data-caption="메인 화면: 매장 목록과 예약/후기 흐름 제공"
                />
                <figcaption class="caption">메인 화면</figcaption>
            </figure>

            <figure class="screen-box is-image">
                <img
                        src="../../assets/img/HonestPick_storeList.png"
                        alt="매장 목록"
                        class="preview-img"
                        data-caption="매장 목록 화면"
                />
                <figcaption class="caption">매장 목록</figcaption>
            </figure>

            <figure class="screen-box is-image">
                <img
                        src="../../assets/img/HonestPick_restaurantDetail.png"
                        alt="매장 상세"
                        class="preview-img"
                        data-caption="매장 상세 화면"
                />
                <figcaption class="caption">매장 상세</figcaption>
            </figure>
        </div>
    </section>

    <!-- 기술 스택 / 주요 모듈 (항상 열림) -->
    <section class="proj-columns">
        <div class="card proj-info">
            <h2>기술 스택</h2>
            <ul>
                <li><strong>Language</strong> : Java</li>
                <li><strong>Web</strong> : JSP / Servlet, JSTL</li>
                <li><strong>DB</strong> : Oracle</li>
                <li><strong>Infra</strong> : Tomcat 9</li>
                <li><strong>외부 API</strong> : Kakao Map, Toss 결제</li>
            </ul>
        </div>

        <div class="card proj-stack">
            <h2>주요 모듈</h2>
            <div class="stack-badges">
                <span class="stack">Reservation</span>
                <span class="stack">Review</span>
                <span class="stack">Payment</span>
                <span class="stack">Admin</span>
                <span class="stack">Owner Membership</span>
                <span class="stack">Map API</span>
                <span class="stack">Login Session/Cookie</span>
            </div>
        </div>
    </section>

    <!-- DB 설계 포인트 (기본 접힘) -->
    <section class="card proj-section">
        <details class="accordion">
            <summary>
                <span class="acc-title">DB 설계 포인트</span>
                <span class="acc-desc">설계 의도 및 근거</span>
            </summary>

            <div class="acc-body">
                <ul class="bullet">
                    <li><code>Reservation</code> – 예약 상태(예약/방문완료/취소) 관리</li>
                    <li><code>Review</code> – 예약 FK 연결로 “방문 근거” 확보</li>
                    <li><code>Payment</code> – 결제/갱신 이력 저장, 멤버십 만료 처리</li>
                    <li><code>Report</code> – 신고 데이터 관리 및 관리자 제재 근거 확보</li>
                    <li><code>Advertisement</code> – 노출 정책 변경에 대비해 분리</li>
                </ul>
            </div>
        </details>
    </section>

    <!-- 기술적 고민 (기본 접힘) -->
    <section class="card proj-section">
        <details class="accordion">
            <summary>
                <span class="acc-title">기술적 고민</span>
                <span class="acc-desc">해결 전략 및 트레이드오프</span>
            </summary>

            <div class="acc-body">
                <ul class="bullet">
                    <li>외부 API(Toss/Kakao) 연동 시 성공/실패 흐름을 분리하고 예외 케이스를 처리했습니다.</li>
                    <li>세션/쿠키 기반 로그인에서 만료·삭제 상황을 고려해 상태를 정리했습니다.</li>
                    <li>복합 JOIN 조회에서 정합성을 우선으로 하고, 조회 목적에 따라 쿼리를 분리했습니다.</li>
                    <li>JSP/Servlet URL 패턴을 통일해 기능 단위로 관리하기 쉽게 구성했습니다.</li>
                </ul>
            </div>
        </details>
    </section>

    <!-- 모달 -->
    <div class="modal-backdrop" id="hpModalBackdrop" style="display:none;">
        <div class="modal-content">
            <button class="modal-close" id="hpModalClose">닫기</button>
            <img id="hpModalImg" src="" alt="screenshot preview" />
            <div class="modal-caption" id="hpModalCaption"></div>
        </div>
    </div>

</section>
